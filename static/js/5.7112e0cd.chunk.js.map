{"version":3,"sources":["hoc/withErrorHandler.js","hoc/withErrorHandler.module.scss","components/typography/paragraph/paragraph.js","components/typography/paragraph/paragraph.module.scss","store/actions/auth.js","store/actions/servers.js","containers/servers/servers.module.scss","containers/servers/server/server.module.scss","components/typography/headingSecondary/headingSecondary.module.scss","containers/servers/server/server.js","components/typography/headingSecondary/headingSecondary.js","containers/servers/servers.js"],"names":["withErrorHandler","WrappedComponent","axios","state","error","this","reqInterceptor","interceptors","request","use","req","setState","resInterceptor","response","res","eject","errorMessage","status","className","styles","ErrorMessage","message","props","Component","module","exports","paragraph","Paragraph","children","auth","username","password","dispatch","type","actionTypes","authData","post","then","token","data","catch","authFail","sortServersByName","sortServersByDistance","fetchServers","get","headers","Authorization","servers","key","push","id","fetchServersSuccess","fetchServersFail","server","stylesClasses","bar","server__bar","solid","Fragment","join","server__infobox","name","distance","headingSecondary","style","headType","White","Heading_Secondary","Servers","onFetchServers","redirector","to","isAuthentiated","loading","length","map","location","servers__heading","servers__area","servers__label","onClick","onSortServersByName","onSortServersByDistance","connect","actions"],"mappings":"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","file":"static/js/5.7112e0cd.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nimport styles from \"./withErrorHandler.module.scss\";\n\nconst withErrorHandler = (WrappedComponent, axios) => {\n  return class extends Component {\n    state = {\n      error: null,\n    };\n\n    componentDidMount() {\n      this.reqInterceptor = axios.interceptors.request.use((req) => {\n        this.setState({ error: null });\n        return req;\n      });\n      this.resInterceptor = axios.interceptors.response.use(\n        (res) => res,\n        (error) => {\n          this.setState({ error: error });\n        }\n      );\n    }\n\n    componentWillUnmount() {\n      axios.interceptors.request.eject(this.reqInterceptor);\n      axios.interceptors.response.eject(this.resInterceptor);\n    }\n\n    render() {\n      let errorMessage = null;\n\n      if (this.state.error) {\n        switch (this.state.error.response.status) {\n          case 401:\n            errorMessage = (\n              <p className={styles.ErrorMessage}>Wrong Password or UserName</p>\n            );\n            break;\n\n          case 500:\n            errorMessage = (\n              <p className={styles.ErrorMessage}>\n                We couldn't connect to the website.&nbsp; Please check your\n                internet connection and try again\n              </p>\n            );\n            break;\n\n          default:\n            errorMessage = (\n              <p className={styles.ErrorMessage}>\n                Something went Wrong + {this.state.error.message}\n              </p>\n            );\n            break;\n        }\n      }\n\n      return (\n        <div>\n          {errorMessage}\n          <WrappedComponent {...this.props} />\n        </div>\n      );\n    }\n  };\n};\n\nexport default withErrorHandler;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ErrorMessage\":\"withErrorHandler_ErrorMessage__1GVgW\",\"moveInLeft\":\"withErrorHandler_moveInLeft__1-ET7\",\"moveInRight\":\"withErrorHandler_moveInRight__3zC3t\",\"moveInButtom\":\"withErrorHandler_moveInButtom__18Blo\"};","import React from \"react\";\nimport styles from \"./paragraph.module.scss\";\n\nconst paragraph = (props) => {\n  return <p className={styles.Paragraph}>{props.children}</p>;\n};\n\nexport default paragraph;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Paragraph\":\"paragraph_Paragraph__XwCL3\",\"moveInLeft\":\"paragraph_moveInLeft__xZUcn\",\"moveInRight\":\"paragraph_moveInRight__2y9Du\",\"moveInButtom\":\"paragraph_moveInButtom__IRV_a\"};","import axios from \"axios\";\nimport * as actions from \"./index\";\nimport * as actionTypes from \"./actionTypes\";\n\nexport const authStart = () => {\n  return {\n    type: actionTypes.AUTH_START,\n  };\n};\n\nexport const authSuccess = (token) => {\n  return {\n    type: actionTypes.AUTH_SUCCESS,\n    token: token,\n  };\n};\n\nexport const authFail = (error) => {\n  return {\n    type: actionTypes.AUTH_FAIL,\n    error: error,\n  };\n};\n\nexport const logOut = () => {\n  return {\n    type: actionTypes.AUTH_LOGOUT,\n  };\n};\n\nexport const auth = (username, password) => {\n  return (dispatch) => {\n    dispatch(authStart());\n    const authData = {\n      username: username,\n      password: password,\n    };\n\n    axios\n      .post(\"https://playground.tesonet.lt/v1/tokens\", authData)\n      .then((res) => {\n        dispatch(authSuccess(res.data.token));\n      })\n      .catch((error) => {\n        dispatch(authFail(error));\n      });\n  };\n};\n","import axios from \"axios\";\n\nimport * as actionTypes from \"./actionTypes\";\n\nexport const fetchServersStart = () => {\n  return {\n    type: actionTypes.FETCH_SERVERS_START,\n  };\n};\n\nexport const fetchServersFail = (error) => {\n  return {\n    type: actionTypes.FETCH_SERVERS_FAIL,\n    error: error,\n  };\n};\n\nexport const fetchServersSuccess = (servers) => {\n  return {\n    type: actionTypes.FETCH_SERVERS_SUCCESS,\n    servers: servers,\n  };\n};\n\nexport const sortServersByName = () => {\n  return {\n    type: actionTypes.SORT_SERVERS_BY_NAME,\n  };\n};\n\nexport const sortServersByDistance = () => {\n  return {\n    type: actionTypes.SORT_SERVERS_BY_DISTANCE,\n  };\n};\n\nexport const fetchServers = (token) => {\n  return (dispatch) => {\n    dispatch(fetchServersStart());\n    axios\n      .get(\"https://playground.tesonet.lt/v1/servers\", {\n        headers: { Authorization: `Bearer ${token}` },\n      })\n      .then((res) => {\n        const servers = [];\n        for (let key in res.data) {\n          servers.push({\n            ...res.data[key],\n            id: key,\n          });\n        }\n        dispatch(fetchServersSuccess(servers));\n      })\n      .catch((error) => {\n        dispatch(fetchServersFail(error));\n      });\n  };\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"servers\":\"servers_servers__BJ-NK\",\"servers__heading\":\"servers_servers__heading__3UUP9\",\"servers__label\":\"servers_servers__label__1nd1O\",\"servers__area\":\"servers_servers__area__2IZpx\",\"moveInLeft\":\"servers_moveInLeft__3t9rg\",\"moveInRight\":\"servers_moveInRight__9b3Lh\",\"moveInButtom\":\"servers_moveInButtom__16_fw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"server\":\"server_server__N_aj8\",\"server__bar\":\"server_server__bar__1P3to\",\"server__infobox\":\"server_server__infobox__3Hdsh\",\"solid\":\"server_solid__1rbcs\",\"moveInLeft\":\"server_moveInLeft__3X3tJ\",\"moveInRight\":\"server_moveInRight__2-HS_\",\"moveInButtom\":\"server_moveInButtom__2S7fx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Heading_Secondary\":\"headingSecondary_Heading_Secondary__azi0a\",\"White\":\"headingSecondary_White__2ZaE0\",\"moveInLeft\":\"headingSecondary_moveInLeft__vmlUH\",\"moveInRight\":\"headingSecondary_moveInRight__2PPJw\",\"moveInButtom\":\"headingSecondary_moveInButtom__3_1jj\"};","import React from \"react\";\nimport styles from \"./server.module.scss\";\n\nconst server = (props) => {\n  let stylesClasses = [styles.server];\n  let bar = <span className={styles.server__bar}></span>;\n\n  if (props.solid) {\n    bar = null;\n    stylesClasses.push(styles.solid);\n  }\n\n  return (\n    <React.Fragment>\n      <ul className={stylesClasses.join(\" \")}>\n        <li className={styles.server__infobox}>{props.name}</li>\n        <li className={styles.server__infobox}>{props.distance}</li>\n      </ul>\n      {bar}\n    </React.Fragment>\n  );\n};\n\nexport default server;\n","import React from \"react\";\nimport styles from \"./headingSecondary.module.scss\";\n\nconst headingSecondary = (props) => {\n  let style = null;\n\n  switch (props.headType) {\n    case \"white\":\n      style = styles.White;\n      break;\n\n    default:\n      style = styles.Heading_Secondary;\n  }\n\n  return <h2 className={style}>{props.children}</h2>;\n};\n\nexport default headingSecondary;\n","import React, { Component } from \"react\";\nimport styles from \"./servers.module.scss\";\n\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport * as actions from \"../../store/actions/index\";\nimport withErrorHandler from \"../../hoc/withErrorHandler\";\nimport axios from \"axios\";\n\nimport Server from \"./server/server\";\nimport H2 from \"../../components/typography/headingSecondary/headingSecondary\";\nimport P from \"../../components/typography/paragraph/paragraph\";\nimport Spinner from \"../../components/UI/spinner/spinner\";\n\nexport class Servers extends Component {\n  componentDidMount() {\n    this.props.onFetchServers(this.props.token);\n  }\n\n  render() {\n    let redirector = <Redirect to=\"/auth\" />;\n\n    if (this.props.isAuthentiated) {\n      redirector = null;\n    }\n\n    let servers = <Spinner />;\n\n    if (\n      !this.props.loading &&\n      this.props.isAuthentiated &&\n      this.props.servers.length !== 0\n    ) {\n      servers = this.props.servers.map((server) => {\n        return (\n          <Server\n            key={server.id}\n            name={server.name}\n            location={server.location}\n            distance={server.distance}\n          />\n        );\n      });\n    }\n\n    return (\n      <div className={styles.servers}>\n        {redirector}\n        <div className={styles.servers__heading}>\n          <H2 headType=\"white\">Choose what's best for you</H2>\n        </div>\n\n        <div className={styles.servers__area}>\n          <div className={styles.servers__label}>\n            <P>\n              Sort by: &nbsp;\n              <span onClick={this.props.onSortServersByName}>Name</span>/\n              <span onClick={this.props.onSortServersByDistance}>Distance</span>\n            </P>\n          </div>\n\n          <Server name=\"Server Name\" distance=\"Distance\" solid />\n\n          {servers}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    servers: state.servers.servers,\n    loading: state.servers.loading,\n    token: state.auth.token,\n    isAuthentiated: state.auth.token !== null,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onFetchServers: (token) => dispatch(actions.fetchServers(token)),\n    onSortServersByName: () => dispatch(actions.sortServersByName()),\n    onSortServersByDistance: () => dispatch(actions.sortServersByDistance()),\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withErrorHandler(Servers, axios));\n"],"sourceRoot":""}